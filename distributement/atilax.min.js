const e={string:String,number:Number,boolean:Boolean,bigint:BigInt,undefined:void 0,null:null},t=(Object.keys(e),Object.values(e),{object:Object,array:Array}),r=(Object.keys(t),Object.values(t),Object.assign({},e,t));Object.keys(r),Object.values(r),e.String,e.Number,e.Boolean;var n=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function s(e){let t;const r=n(e);if("string"===r){const r=e.toLowerCase();"object"===r?t={}:"array"===r&&(t=[])}else"object"===r?t={}:"array"===r&&(t=[]);return t}function o(e,...t){if(!e)return e;for(const r of t)if(r)for(const[t,s]of Object.entries(r)){const r=n(e[t]),a=n(s);e[t]="object"===r&&"object"===a?o(e[t],s):s}return e}var a={ancestors:[],delimiter:".",depth:0,frozen:!1,maxDepth:10,nonenumerable:!0,path:!1,sealed:!1,type:!1};function i(e,t,r){const s=Object.assign({},a,r,{ancestors:Object.assign([],r.ancestors)}),o=Object.getOwnPropertyDescriptor(e,t);if((s.nonenumerable||o.enumerable)&&(s.ancestors.includes(e)||s.ancestors.unshift(e),!s.ancestors.includes(o.value)))return s.path&&(s.path="string"===n(s.path)?[s.path,t].join(s.delimiter):t,o.path=s.path),s.type&&(o.type=n(o.value)),s.frozen&&(o.frozen=Object.isFrozen(o.value)),s.sealed&&(o.sealed=Object.isSealed(o.value)),["array","object"].includes(n(o.value))&&(o.value=c(o.value,s)),o}function c(e,t){const r={},n=Object.assign({},a,t);if(n.depth>=n.maxDepth)return r;n.depth++;for(const[t,s]of Object.entries(Object.getOwnPropertyDescriptors(e))){const s=i(e,t,n);void 0!==s&&(r[t]=s)}return r}var u={typeCoercion:!1};function l(t,r,o,a){const i=Object.assign({},o),c=Object.assign({},u,a),l=n(i.value);if(["array","object"].includes(l)){const e=(e=>{let t;const r=n(e);if("array"===r)t=!0;else if("object"===r&&Number.isInteger(e.length)&&e.length>=0){e:for(const r of Object.keys(Object.getOwnPropertyDescriptors(e)))if("length"!==r&&(t=!isNaN(r),!t))break e}else t=!1;return t})(Object.defineProperties(s(l),i.value))?[]:{};i.value=p(e,i.value,c)}else c.typeCoercion&&void 0!==Object.getOwnPropertyDescriptor(i,"type")&&!["undefined","null"].includes(l)&&(i.value=e[i.type](i.value));return Object.defineProperty(t,r,i),o.sealed&&Object.seal(t[r]),o.frozen&&Object.freeze(t[r]),t}function p(e,t,r){const n=Object.assign({},u,r);for(const[r,s]of Object.entries(t))l(e,r,s,n);return e}var f=e=>{const t=o({propertyDescriptors:!1,defineProperties:!1,replacers:[],revivers:[]},e);return t.propertyDescriptors?.type&&t.replacers.push((function(e,t){return"bigint"===n(t)?String(t):t})),t};function b(e,t,r){let n=r;for(const s of e)n=s(t,r);return n}class d extends EventTarget{constructor(e,t){if(super(),!e)return null;const r=f(t),n=localStorage;Object.defineProperties(this,{path:{value:e},raw:{value:function(){return n.getItem(this.path)}},get:{value:function(){const{path:e}=this,t=n.getItem(this.path);if(["undefined",void 0].includes(t))return;const o=JSON.parse(t,b.bind(null,r.revivers)),a=s(o),i=r.propertyDescriptors?p(a,o,r.defineProperties):o;return this.dispatchEvent(new CustomEvent("get",{detail:{path:e,raw:t,data:i}})),i}},set:{value:function(e){const t=e,{path:s}=this;let o=r.propertyDescriptors?JSON.stringify(c(t,r.propertyDescriptors),b.bind(null,r.replacers)):JSON.stringify(t,b.bind(null,r.replacers));n.setItem(this.path,o),this.dispatchEvent(new CustomEvent("set",{detail:{path:s,raw:o,data:t}}))}},remove:{value:function(){const{path:e}=this,t=this.raw(),r=this.get();n.removeItem(this.path),this.dispatchEvent(new CustomEvent("remove",{detail:{path:e,raw:t,data:r}}))}}})}}const v={};class h extends EventTarget{constructor(e={},t){super();Object.assign({},v,t);const r={},n=localStorage;Object.defineProperties(this,{addRoute:{value:function(e,t){r[e]=new d(e,t)}},addRoutes:{value:function(e,t){for(const[t,r]of Object.entries(e))this.addRoute(t,r)}},removeRoute:{value:function(e){delete r[e]}},removeRoutes:{value:function(e){for(const t of e)this.removeRoute(t)}},getRoute:{value:function(e){return r[e]}},getRoutes:{value:function(e){if(!e)return r;const t={};for(const r of[].concat(e))t[r]=this.getRoute(r);return t}},clear:{value:function(){n.clear()}}}),this.addRoutes(e)}}export{d as Route,h as Router};
//# sourceMappingURL=atilax.min.js.map
